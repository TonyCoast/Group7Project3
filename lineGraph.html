<!DOCTYPE html>
<html>
<head>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
    <div id="myDiv"></div>
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <script> 
    const url = 'http://127.0.0.1:5000/api/v1.0/National_CPI_PPI';
    function charts() {
    d3.json(url).then((data) => {
        console.log(data);
        let trace1 = {
            x: [],
            y: [],
            mode: 'lines',
            type: 'scatter'
        };
        let trace2 = {
            x2: [],
            y2: [],
            mode: 'lines',
            type: 'scatter'
        };
        let trace3 = {
            x3: [],
            y3: [],
            mode: 'lines',
            type: 'scatter'
        };
        let trace4 = {
            x4: [],
            y4: [],
            mode: 'lines',
            type: 'scatter'
        };
        let trace5 = {
            x5: [],
            y5: [],
            mode: 'lines',
            type: 'scatter'
        };
        let trace6 = {
            x6: [],
            y6: [],
            mode: 'lines',
            type: 'scatter'
        };

        for (var i = 0; i < data.length; i++) {
            trace1.x.push(data[i].Date);
            trace1.y.push(data[i].AlcoholCPI);
            trace2.x2.push(data[i].Date);
            trace2.y2.push(data[i].AlcoholPPI);
            trace3.x3.push(data[i].Date);
            trace3.y3.push(data[i].MeatsCPI);
            trace4.x4.push(data[i].Date);
            trace4.y4.push(data[i].MeatsPPI);
            trace3.x3.push(data[i].Date);
            trace3.y3.push(data[i].DairyCPI);
            trace4.x4.push(data[i].Date);
            trace4.y4.push(data[i].DairyPPI);
        }

        Plotly.newPlot('myDiv', [trace1, trace2, trace3, trace4, trace5, trace6]);
    });
}

charts();
        
    </script>
</body>
</html>
